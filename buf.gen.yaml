version: v1
managed:
  enabled: true

  go_package_prefix:
    default: github.com/wikipaddle/protobuf/go-wikipaddle

plugins:
  - plugin: protoc-gen-twirp_ruby
    path: ["go", "run", "github.com/github/twirp-ruby/protoc-gen-twirp_ruby"]
    opt: twirp_ruby_out=gen/ruby
    out: rubygem/lib/wikipaddle_api

  - plugin: buf.build/protocolbuffers/ruby
    out: rubygem/lib/wikipaddle_api

  - plugin: buf.build/protocolbuffers/go
    out: golang
    opt: paths=source_relative

  - plugin: buf.build/bufbuild/connect-go
    out: golang
    opt: paths=source_relative

  - plugin: protoc-gen-twirp_ts
    path: ./node_modules/.bin/protoc-gen-twirp_ts
    out: gen/typescript
